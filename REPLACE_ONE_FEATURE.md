# é€ä¸ªæ›¿æ¢åŠŸèƒ½å®ç°

## æ–°å¢åŠŸèƒ½ âœ…

### 1. é€ä¸ªæ›¿æ¢æŒ‰é’® âœ…
- âœ… "æ›¿æ¢" æŒ‰é’® - æ›¿æ¢å½“å‰åŒ¹é…é¡¹
- âœ… "å…¨éƒ¨æ›¿æ¢" æŒ‰é’® - æ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹

### 2. å¯¼èˆªåŠŸèƒ½ âœ…
- âœ… ä¸Šä¸€ä¸ªæŒ‰é’® (â—€)
- âœ… ä¸‹ä¸€ä¸ªæŒ‰é’® (â–¶)
- âœ… æ˜¾ç¤ºå½“å‰ä½ç½® (1/5)
- âœ… æ˜¾ç¤ºå½“å‰åŒ¹é…é¡¹è·¯å¾„

### 3. é«˜äº®æ˜¾ç¤º âœ…
- âœ… å½“å‰åŒ¹é…é¡¹é»„è‰²é«˜äº®
- âœ… å·¦ä¾§é»„è‰²è¾¹æ¡†æ ‡è®°
- âœ… è‡ªåŠ¨å±•å¼€åˆ°åŒ¹é…é¡¹

### 4. å¿«æ·é”®æ”¯æŒ âœ…
- âœ… Enter - æ‰§è¡ŒæŸ¥æ‰¾
- âœ… Escape - å…³é—­æŸ¥æ‰¾é¢æ¿

## UI è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [å…¨éƒ¨å±•å¼€] [å…¨éƒ¨æŠ˜å ] [æŸ¥æ‰¾æ›¿æ¢]                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æŸ¥æ‰¾æ›¿æ¢é¢æ¿                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ æŸ¥æ‰¾å†…å®¹ï¼ˆæ”¯æŒé”®åå’Œå€¼ï¼‰       â”‚ æŸ¥æ‰¾   â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ æ›¿æ¢ä¸º            â”‚ æ›¿æ¢   â”‚ å…¨éƒ¨æ›¿æ¢ â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚ [â—€] 1 / 5 [â–¶]     é”®å: user.profile.name          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

JSON æ ‘å½¢è§†å›¾ï¼š
  â”œâ”€ user
  â”‚  â”œâ”€ profile
  â”‚  â”‚  â”œâ”€ name: "å¼ ä¸‰"  â† å½“å‰åŒ¹é…é¡¹ï¼ˆé»„è‰²é«˜äº®ï¼‰
  â”‚  â”‚  â””â”€ age: 25
  â”‚  â””â”€ email: "test@example.com"
```

## åŠŸèƒ½è¯¦è§£

### é€ä¸ªæ›¿æ¢æµç¨‹

1. **æŸ¥æ‰¾åŒ¹é…é¡¹**
   ```
   è¾“å…¥æŸ¥æ‰¾å†…å®¹ â†’ ç‚¹å‡»"æŸ¥æ‰¾" â†’ æ˜¾ç¤ºåŒ¹é…æ•°é‡
   ```

2. **æµè§ˆåŒ¹é…é¡¹**
   ```
   ç‚¹å‡» [â–¶] â†’ è·³è½¬åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹
   ç‚¹å‡» [â—€] â†’ è·³è½¬åˆ°ä¸Šä¸€ä¸ªåŒ¹é…é¡¹
   ```

3. **æ›¿æ¢å½“å‰é¡¹**
   ```
   è¾“å…¥æ›¿æ¢å†…å®¹ â†’ ç‚¹å‡»"æ›¿æ¢" â†’ æ›¿æ¢å½“å‰é¡¹ â†’ è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€ä¸ª
   ```

4. **æ›¿æ¢å…¨éƒ¨**
   ```
   è¾“å…¥æ›¿æ¢å†…å®¹ â†’ ç‚¹å‡»"å…¨éƒ¨æ›¿æ¢" â†’ æ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹
   ```

### è‡ªåŠ¨å±•å¼€åŠŸèƒ½

å½“åˆ‡æ¢åˆ°æŸä¸ªåŒ¹é…é¡¹æ—¶ï¼Œè‡ªåŠ¨å±•å¼€å…¶æ‰€æœ‰çˆ¶èŠ‚ç‚¹ï¼š

```typescript
const expandToPath = (targetPath: string) => {
  const newExpanded = new Set(expandedPaths);
  const parts = targetPath.split('.');
  
  // å±•å¼€æ‰€æœ‰çˆ¶è·¯å¾„
  for (let i = 0; i < parts.length; i++) {
    const path = parts.slice(0, i + 1).join('.');
    newExpanded.add(path);
  }
  
  setExpandedPaths(newExpanded);
};
```

**ç¤ºä¾‹ï¼š**
```
åŒ¹é…é¡¹è·¯å¾„: user.profile.settings.theme
è‡ªåŠ¨å±•å¼€:
  âœ“ user
  âœ“ user.profile
  âœ“ user.profile.settings
  âœ“ user.profile.settings.theme
```

### é«˜äº®æ˜¾ç¤º

å½“å‰åŒ¹é…é¡¹ä½¿ç”¨é»„è‰²èƒŒæ™¯å’Œå·¦ä¾§è¾¹æ¡†æ ‡è®°ï¼š

```typescript
const isCurrentMatch = searchResults.length > 0 && 
  searchResults[currentResultIndex]?.path === node.path;

<div className={`
  ${isCurrentMatch 
    ? 'bg-yellow-100 border-l-2 border-yellow-500'  // å½“å‰åŒ¹é…é¡¹
    : 'hover:bg-gray-50'                             // æ™®é€šèŠ‚ç‚¹
  }
`}>
```

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: é€ä¸ªæ£€æŸ¥å¹¶æ›¿æ¢

```json
{
  "dev_url": "https://dev.api.com",
  "dev_key": "dev_12345",
  "test_url": "https://test.api.com",
  "env": "dev"
}
```

**æ“ä½œæµç¨‹ï¼š**
1. æŸ¥æ‰¾ "dev"
2. æ‰¾åˆ° 4 ä¸ªåŒ¹é…é¡¹
3. æµè§ˆç¬¬ 1 ä¸ªï¼šdev_url (é”®å)
4. ç‚¹å‡»"æ›¿æ¢" â†’ prod_url
5. è‡ªåŠ¨è·³åˆ°ç¬¬ 2 ä¸ªï¼šdev_key (é”®å)
6. ç‚¹å‡»"æ›¿æ¢" â†’ prod_key
7. è‡ªåŠ¨è·³åˆ°ç¬¬ 3 ä¸ªï¼šdev.api.com (å€¼)
8. ç‚¹å‡»"æ›¿æ¢" â†’ prod.api.com
9. è‡ªåŠ¨è·³åˆ°ç¬¬ 4 ä¸ªï¼šenv çš„å€¼ "dev"
10. ç‚¹å‡»"æ›¿æ¢" â†’ "prod"

**ç»“æœï¼š**
```json
{
  "prod_url": "https://prod.api.com",
  "prod_key": "prod_12345",
  "test_url": "https://test.api.com",
  "env": "prod"
}
```

### åœºæ™¯ 2: é€‰æ‹©æ€§æ›¿æ¢

```json
{
  "user": {
    "name": "user123",
    "email": "user@example.com"
  },
  "admin": {
    "name": "admin456"
  }
}
```

**æ“ä½œæµç¨‹ï¼š**
1. æŸ¥æ‰¾ "user"
2. æ‰¾åˆ° 3 ä¸ªåŒ¹é…é¡¹
3. ç¬¬ 1 ä¸ªï¼šuser (é”®å) â†’ æ›¿æ¢ä¸º "customer"
4. ç¬¬ 2 ä¸ªï¼šuser123 (å€¼) â†’ æ›¿æ¢ä¸º "customer123"
5. ç¬¬ 3 ä¸ªï¼šuser@example.com (å€¼) â†’ è·³è¿‡ï¼ˆç‚¹å‡»ä¸‹ä¸€ä¸ªï¼‰

**ç»“æœï¼š**
```json
{
  "customer": {
    "name": "customer123",
    "email": "user@example.com"  // ä¿æŒä¸å˜
  },
  "admin": {
    "name": "admin456"
  }
}
```

### åœºæ™¯ 3: æ·±å±‚åµŒå¥—æ›¿æ¢

```json
{
  "level1": {
    "level2": {
      "level3": {
        "oldValue": "test"
      }
    }
  }
}
```

**æ“ä½œæµç¨‹ï¼š**
1. æŸ¥æ‰¾ "oldValue"
2. æ‰¾åˆ° 1 ä¸ªåŒ¹é…é¡¹
3. è‡ªåŠ¨å±•å¼€ level1 â†’ level2 â†’ level3
4. é«˜äº®æ˜¾ç¤º oldValue
5. ç‚¹å‡»"æ›¿æ¢" â†’ newValue

## æŠ€æœ¯å®ç°

### çŠ¶æ€ç®¡ç†

```typescript
const [searchResults, setSearchResults] = useState<Array<{
  path: string;
  key: string;
  value: any;
  matchType: 'key' | 'value';
}>>([]);
const [currentResultIndex, setCurrentResultIndex] = useState(0);
```

### å¯¼èˆªé€»è¾‘

```typescript
// ä¸Šä¸€ä¸ª
const handlePrevResult = () => {
  const newIndex = currentResultIndex > 0 
    ? currentResultIndex - 1 
    : searchResults.length - 1;  // å¾ªç¯åˆ°æœ€åä¸€ä¸ª
  setCurrentResultIndex(newIndex);
  expandToPath(searchResults[newIndex].path);
};

// ä¸‹ä¸€ä¸ª
const handleNextResult = () => {
  const newIndex = currentResultIndex < searchResults.length - 1 
    ? currentResultIndex + 1 
    : 0;  // å¾ªç¯åˆ°ç¬¬ä¸€ä¸ª
  setCurrentResultIndex(newIndex);
  expandToPath(searchResults[newIndex].path);
};
```

### æ›¿æ¢é€»è¾‘

```typescript
const handleReplaceOne = () => {
  const result = searchResults[currentResultIndex];
  const newData = JSON.parse(JSON.stringify(jsonData));
  
  // å®šä½åˆ°ç›®æ ‡èŠ‚ç‚¹
  const keys = result.path.split('.');
  let current = newData;
  for (let i = 0; i < keys.length - 1; i++) {
    current = current[keys[i]];
  }
  
  // æ‰§è¡Œæ›¿æ¢
  if (result.matchType === 'key') {
    // æ›¿æ¢é”®å
    const newKey = result.key.replace(searchText, replaceText);
    const value = current[result.key];
    delete current[result.key];
    current[newKey] = value;
  } else {
    // æ›¿æ¢å€¼
    const newValue = String(current[result.key]).replace(searchText, replaceText);
    current[result.key] = newValue;
  }
  
  updateData(newData);
  
  // é‡æ–°æœç´¢å¹¶è·³åˆ°ä¸‹ä¸€ä¸ª
  setTimeout(() => handleSearch(), 100);
};
```

## æŒ‰é’®æ ·å¼

### æ›¿æ¢æŒ‰é’®ï¼ˆæ©™è‰²ï¼‰
```typescript
className="px-3 py-1 text-xs bg-orange-600 text-white rounded hover:bg-orange-700"
```

### å…¨éƒ¨æ›¿æ¢æŒ‰é’®ï¼ˆç»¿è‰²ï¼‰
```typescript
className="px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700"
```

### å¯¼èˆªæŒ‰é’®ï¼ˆç°è‰²ï¼‰
```typescript
className="p-1 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded"
```

## ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 1. è‡ªåŠ¨è·³è½¬
- âœ… æ›¿æ¢åè‡ªåŠ¨è·³åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹
- âœ… æœ€åä¸€ä¸ªæ›¿æ¢åå¾ªç¯åˆ°ç¬¬ä¸€ä¸ª

### 2. è§†è§‰åé¦ˆ
- âœ… å½“å‰åŒ¹é…é¡¹é»„è‰²é«˜äº®
- âœ… å·¦ä¾§é»„è‰²è¾¹æ¡†æ ‡è®°
- âœ… æ˜¾ç¤ºåŒ¹é…ç±»å‹ï¼ˆé”®å/å€¼ï¼‰

### 3. è·¯å¾„æ˜¾ç¤º
- âœ… æ˜¾ç¤ºå®Œæ•´è·¯å¾„
- âœ… æ˜¾ç¤ºå½“å‰ä½ç½® (1/5)
- âœ… å¸®åŠ©ç”¨æˆ·å®šä½

### 4. ç¦ç”¨çŠ¶æ€
- âœ… æ— åŒ¹é…é¡¹æ—¶æŒ‰é’®ç¦ç”¨
- âœ… è§†è§‰æç¤ºï¼ˆåŠé€æ˜ï¼‰
- âœ… é¼ æ ‡æ ·å¼å˜åŒ–

## æµ‹è¯•åœºæ™¯

### æµ‹è¯• 1: åŸºæœ¬æ›¿æ¢
1. âœ… æŸ¥æ‰¾ "test"
2. âœ… æ‰¾åˆ° 3 ä¸ªåŒ¹é…é¡¹
3. âœ… ç‚¹å‡»"æ›¿æ¢"
4. âœ… éªŒè¯ï¼šç¬¬ä¸€ä¸ªè¢«æ›¿æ¢
5. âœ… éªŒè¯ï¼šè‡ªåŠ¨è·³åˆ°ç¬¬äºŒä¸ª

### æµ‹è¯• 2: å¯¼èˆªåŠŸèƒ½
1. âœ… æŸ¥æ‰¾ "user"
2. âœ… ç‚¹å‡»ä¸‹ä¸€ä¸ª [â–¶]
3. âœ… éªŒè¯ï¼šè·³åˆ°ç¬¬ 2 ä¸ª
4. âœ… ç‚¹å‡»ä¸Šä¸€ä¸ª [â—€]
5. âœ… éªŒè¯ï¼šå›åˆ°ç¬¬ 1 ä¸ª

### æµ‹è¯• 3: å¾ªç¯å¯¼èˆª
1. âœ… åœ¨æœ€åä¸€ä¸ªåŒ¹é…é¡¹
2. âœ… ç‚¹å‡»ä¸‹ä¸€ä¸ª [â–¶]
3. âœ… éªŒè¯ï¼šå¾ªç¯åˆ°ç¬¬ 1 ä¸ª
4. âœ… åœ¨ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹
5. âœ… ç‚¹å‡»ä¸Šä¸€ä¸ª [â—€]
6. âœ… éªŒè¯ï¼šå¾ªç¯åˆ°æœ€åä¸€ä¸ª

### æµ‹è¯• 4: è‡ªåŠ¨å±•å¼€
1. âœ… æŠ˜å æ‰€æœ‰èŠ‚ç‚¹
2. âœ… æŸ¥æ‰¾æ·±å±‚åµŒå¥—çš„å€¼
3. âœ… éªŒè¯ï¼šè‡ªåŠ¨å±•å¼€æ‰€æœ‰çˆ¶èŠ‚ç‚¹
4. âœ… éªŒè¯ï¼šåŒ¹é…é¡¹å¯è§å¹¶é«˜äº®

## æ€»ç»“

âœ… **é€ä¸ªæ›¿æ¢åŠŸèƒ½å®Œæˆ**
âœ… **å¯¼èˆªåŠŸèƒ½å®Œå–„**
âœ… **é«˜äº®æ˜¾ç¤ºæ¸…æ™°**
âœ… **è‡ªåŠ¨å±•å¼€æ™ºèƒ½**
âœ… **ç”¨æˆ·ä½“éªŒä¼˜ç§€**

ç°åœ¨ç”¨æˆ·å¯ä»¥ç²¾ç¡®æ§åˆ¶æ¯ä¸€ä¸ªæ›¿æ¢æ“ä½œï¼Œæä¾›äº†ç±»ä¼¼ IDE çš„æŸ¥æ‰¾æ›¿æ¢ä½“éªŒï¼ğŸ‰
